---
title: コンピュータアーキテクチャ (1) SRAMとDRAM
published: 2025-09-14
description: "王道计组第三章"
image: "./cover.png"
tags: ["勉強 / learning","基礎 / Fundamentals", "日本語 / Japanese","中国語 / Chinese"]
category: ノート / Notes
draft: false
---

<iframe width="100%" height="468" src="//player.bilibili.com/player.html?isOutside=true&aid=995248168&bvid=BV1ps4y1d73V&cid=1100440728&p=35" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>

- **DRAM和SRAM**
    - 存储元件不同导致的特性差异
    - DRAM的刷新
    - DRAM的地址线复用技术

:::tip

DRAM 是 Dynamic Random Access Memory 的缩写，中文称为动态随机存取存储器。

SRAM 是 Static Random Access Memory 的缩写，中文称为静态随机存取存储器。

DRAM 通常用于计算机的主存，因为它成本低、集成度高。

SRAM 则用于 CPU 的高速缓存（Cache），因为它速度快。

DRAM和SRAM的对比 是计算机组成原理课程中的一个高频考点。
:::

#### 栅极电容: 

mos管接通之后，如果是1，电容放电，从数据线上产生电流信号。

mos管接通之后，如果是0，电容不放电，从数据线上不产生电流信号。 

若存储1，意味着电容上会存储一些电荷，接通mos管读出的过程中就意味着电容释放掉，从而导致信息从1变为0。

这意味着**电容放电信息被破坏，是破坏性读出**，读出后应有重写操作，也称”再生“，因此读写速度更慢。

而右边为稳态，是**非破坏性读出**，无需重写，因此读写速度更快。

总结：DRAM用三级电容来存储0和1，需要1个mos管。

#### 双稳态触发器: 

为什么叫双稳态？因为触发器这个存储源呈现出两种稳定的状态：

第一种稳态： A点高电平，B点低电平，规定对应写入的是1。

第二种稳态： B点高电平，A点低电平，规定对应写入的是0。

:::caution
以上是对于写入而言，下面我们来看读出。
:::

![我的截图](/images/1.png)

显然，对于左边，读出数据的数据线只有一根。

而右边需要两根数据线来读出0或1的状态。

对于右，给字选择线施加电压，若存储源存储0，BL为低电平信号，右边则不会输出任何电信号，反之亦然。

**根本判断依据：哪条线输出了低电平信号。**

#### 价格：

左边1个mos管，右边6个mos管，显然右边集成度低（因为逻辑元件更多，体积更大），功耗大（电路更复杂），成本更贵。

:::note
两种存储元的特性区别，也造成了SRAM和DRAM的区别。
:::

| 特征 | SRAM (静态RAM) | DRAM (动态RAM) |
|---|---|---|
| **存储信息** | 双稳态触发器 | 栅极电容 |
| **破坏性读出** | 非 | 是 |
| **读出后需要重写** | 不用 | 需要 |
| **运行速度** | 快 | 慢 |
| **集成度** | 低 | 高 |
| **发热量** | 大 | 小 |
| **存储成本** | 高 | 低 |
| **易失性存储器** | 易失 (断电后信息消失) | 易失 (断电后信息消失) |
| **需要“刷新”** | 不需要 | 需要 |
| **行地址发送** | 同时送 | 分两次送 |

#### 总结
**SRAM** 速度快，常用于 **CPU 缓存**。它使用触发器存储数据，不需要刷新，但成本高、集成度低、功耗大。
**DRAM** 速度慢，但成本低、集成度高、功耗小，常用于 **主内存**。它使用电容存储数据，需要定期刷新才能保持信息。

:::caution
注意区分**破坏性读出**和**易失性**
:::

那什么是刷新呢？

高中我们学过，如果不管电容内的电荷，电荷会慢慢流失，就会导致电容内存储的信息出现误差（由1→0）。

事实上，电容器内的电荷只能维持`2ms`，即使不断电，2ms后信息也会消失。

而双稳态触发器比较好，只要不断电（从VDD这根线供），触发器的状态就不会变，也就是保存的0和1是不会消失的。

那左边这种情况如何解决呢？

这就要用到“刷新”的概念了。

`2ms`内给电容刷新一次，也就是给电容充电，即可保证信息不流失。

![我的截图](/images/2.png)

为什么要用二维的存储器？因为这样会让选通线的数量更少，使电路变得简单清晰。

只要给出一个行地址，那么行地址译码器便会选中一整行的存储单元。

而我们的每次刷新操作，就会刷新一整行。

那怎么刷新呢？

会有一个专门的刷新电路来支持。

刷新电路会直接读出一整行的存储信息，然后重新写入，也就是重新给电容充电。

那我们刷新一整行，其实本质上就是进行了一次读操作，所以它的耗时和1个读/写周期相同。

![我的截图](/images/3.png)

为了让地址线更简单，DRAM常常采用**地址线复用技术**。

i.e. 把行地址，列地址分前后两次进行传输，只需采用`n/2`条地址线。

好处：使地址线更少，芯片引脚更少。

对于SRAM这种容量较小的芯片，通常我们同时把行列地址送过去就可以了。  

:::tip
当考察DRAM芯片的引脚数量时，和地址线对应的引脚数目应该减半。
:::

另外，“刷新”由存储器独立完成，不需要CPU控制。

最后补充，DRAM芯片现在已经过时了，现在的主存通常采用SDRAM芯片，如DDR3，DDR4。

---

### SRAMとDRAMの比較

| 特徴 | SRAM (スタティックRAM) | DRAM (ダイナミックRAM) |
|---|---|---|
| **情報記憶方式** | フリップフロップ | コンデンサ |
| **破壊読み出し** | なし | あり |
| **読み出し後の書き換え** | 不要 | 必要 |
| **動作速度** | 速い | 遅い |
| **集積度** | 低い | 高い |
| **発熱量** | 多い | 少ない |
| **記憶コスト** | 高い | 低い |
| **揮発性メモリ** | 揮発性 (電源を切ると情報が消える) | 揮発性 (電源を切ると情報が消える) |
| **「リフレッシュ」** | 不要 | 必要 |
| **アドレス送信** | 同時に送信 | 2回に分けて送信 |

#### まとめ
**SRAM** は高速で、主に **CPUキャッシュ** に使われます。フリップフロップでデータを保持するため、リフレッシュは不要ですが、コストが高く、集積度が低く、消費電力も大きいです。
**DRAM** は速度は劣りますが、コストが低く、集積度が高く、消費電力が少ないため、**メインメモリ** として広く使われています。コンデンサでデータを保持するため、情報が消えないように定期的なリフレッシュが必要です。
